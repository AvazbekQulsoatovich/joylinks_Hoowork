{% extends 'base/base.html' %}

{% block title %}Parolni o'zgartirish - {{ target_user.username }}{% endblock %}

{% block content %}
<header class="page-header">
    <div>
        <a href="{% url 'user_detail' target_user.pk %}" class="text-muted"
            style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
            <i data-lucide="arrow-left" style="width: 16px; height: 16px;"></i> Foydalanuvchi profili
        </a>
        <h1 class="page-title">Parolni o'zgartirish</h1>
        <p class="page-subtitle">{{ target_user.get_full_name|default:target_user.username }} uchun yangi parol
            o'rnating</p>
    </div>
</header>

<div class="card" style="max-width: 500px;">
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label class="form-label">{{ form.new_password.label }}</label>
            {{ form.new_password }}
            {% if form.new_password.errors %}<small class="text-danger">{{ form.new_password.errors.0 }}</small>{%endif%}
        </div>
        <div class="form-group">
            <label class="form-label">{{ form.confirm_password.label }}</label>
            {{ form.confirm_password }}
            {% if form.confirm_password.errors %}<small class="text-danger">{{form.confirm_password.errors.0}}</small>{% endif %}
        </div>

        {% if form.non_field_errors %}
        <div class="alert alert-danger">
            {{ form.non_field_errors.0 }}
        </div>
        {% endif %}

        <div style="display: flex; gap: 1rem; margin-top: 2rem;">
            <button type="submit" class="btn btn-primary">
                <i data-lucide="check-circle" style="width: 18px; height: 18px;"></i> Parolni saqlash
            </button>
            <a href="{% url 'user_detail' target_user.pk %}" class="btn btn-secondary">Bekor qilish</a>
        </div>
    </form>
</div>
{% endblock %}